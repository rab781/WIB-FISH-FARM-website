<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug Order Buttons</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .debug-section { border: 1px solid #ccc; margin: 10px 0; padding: 15px; }
        .debug-button {
            display: inline-block;
            padding: 10px 15px;
            margin: 5px;
            background: #ea580c;
            color: white;
            cursor: pointer;
            border: none;
            border-radius: 5px;
        }
        .debug-button:hover { background: #c2410c; }
        .log-output {
            background: #f5f5f5;
            border: 1px solid #ddd;
            padding: 10px;
            height: 200px;
            overflow-y: auto;
            font-family: monospace;
            white-space: pre-wrap;
        }
    </style>
</head>
<body>
    <h1>Debug Order Action Buttons</h1>

    <div class="debug-section">
        <h3>Test Action Buttons</h3>
        <button class="debug-button confirm-payment" data-id="1374">Confirm Payment</button>
        <button class="debug-button process-order" data-id="1373">Process Order</button>
        <button class="debug-button ship-order" data-id="1372">Ship Order</button>
        <button class="debug-button cancel-order" data-id="1371">Cancel Order</button>
        <button class="debug-button btnLihatBuktiPembayaran">View Payment Proof</button>
    </div>

    <div class="debug-section">
        <h3>Console Log Output</h3>
        <div id="logOutput" class="log-output"></div>
        <button onclick="clearLog()">Clear Log</button>
    </div>

    <div class="debug-section">
        <h3>DOM Element Check</h3>
        <button onclick="checkElements()">Check Required Elements</button>
        <div id="elementCheck"></div>
    </div>

    <!-- Simulated modals -->
    <div id="orderActionModal" style="display: none;">
        <h3>Order Action Modal</h3>
        <p id="orderActionText">Action text will appear here</p>
    </div>

    <div id="paymentProofModal" style="display: none;">
        <h3>Payment Proof Modal</h3>
        <p>Payment proof modal content</p>
    </div>

    <script>
        // Log function
        function log(message) {
            const output = document.getElementById('logOutput');
            const timestamp = new Date().toLocaleTimeString();
            output.textContent += `[${timestamp}] ${message}\n`;
            output.scrollTop = output.scrollHeight;
            console.log(message);
        }

        function clearLog() {
            document.getElementById('logOutput').textContent = '';
        }

        function checkElements() {
            const elements = [
                'orderActionModal',
                'paymentProofModal',
                '.confirm-payment',
                '.process-order',
                '.ship-order',
                '.cancel-order',
                '.btnLihatBuktiPembayaran'
            ];

            let result = 'Element Check Results:\n';
            elements.forEach(selector => {
                const found = selector.startsWith('.') ?
                    document.querySelectorAll(selector).length :
                    document.getElementById(selector) ? 1 : 0;
                result += `${selector}: ${found} found\n`;
            });

            document.getElementById('elementCheck').innerHTML = '<pre>' + result + '</pre>';
            log('Element check completed');
        }

        // Event handlers using jQuery delegation (same as in the actual page)
        $(document).ready(function() {
            log('Document ready - setting up event listeners');

            $(document).on('click', '.confirm-payment', function(e) {
                e.preventDefault();
                e.stopPropagation();
                const orderId = $(this).data('id');
                log(`Confirm payment clicked for order ${orderId}`);
            });

            $(document).on('click', '.process-order', function(e) {
                e.preventDefault();
                e.stopPropagation();
                const orderId = $(this).data('id');
                log(`Process order clicked for order ${orderId}`);
            });

            $(document).on('click', '.ship-order', function(e) {
                e.preventDefault();
                e.stopPropagation();
                const orderId = $(this).data('id');
                log(`Ship order clicked for order ${orderId}`);
            });

            $(document).on('click', '.cancel-order', function(e) {
                e.preventDefault();
                e.stopPropagation();
                const orderId = $(this).data('id');
                log(`Cancel order clicked for order ${orderId}`);
            });

            $(document).on('click', '.btnLihatBuktiPembayaran', function(e) {
                e.preventDefault();
                e.stopPropagation();
                log('View payment proof clicked');
            });

            log('All event listeners registered successfully');
        });
    </script>
</body>
</html>
